<!-- STEP 1: Mark as sent -->
<hr class="my-3 h-0.5 border-t-0 bg-neutral-200 opacity-100 dark:opacity-50"/>
<button (click)="markAsSent()" *ngIf="deal.flowStatus.ID === 7"
        class="hover:cursor-pointer my-5 middle none center mr-4 rounded-lg bg-[#386097]
    py-3 px-6 font-sans text-xs font-bold uppercase text-white
    shadow-md shadow-blue-500/20 transition-all hover:shadow-lg
    hover:shadow-blue-500/40 focus:opacity-[0.85]
    focus:shadow-none active:opacity-[0.85] active:shadow-none
    disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none dark:bg-[#56BDED]"
        data-ripple-light="true">Mark {{ documentType }} as sent to client
</button>

<!-- STEP 2: Awaiting client response -->
<div *ngIf="deal.flowStatus.ID === 8" class="mt-4 space-y-4">
  <div class="flex justify-center text-gray-600 dark:text-gray-300">Did the client accept the {{ documentType }}?</div>
  <div class="flex justify-center text-gray-400 mb-3 dark:text-neutral-100">
    <select [(ngModel)]="clientAccepted" type="text" class="dark:hover:border-[#56BDED] hover:border-[#386097]ng  rounded border
    block appearance-none w-full bg-white border-gray-400  text-gray-400 mb-3 dark:text-neutral-100 py-2 px-4 pr-8
    leading-tight focus:outline-none focus:bg-white  dark:focus:border-[#56BDED] focus:border-[#386097]
    dark:bg-gray-600 dark:hover:bg-gray-600 dark:focus:bg-gray-600">
          <option [ngValue]="true">Yes</option>
          <option [ngValue]="false">No</option>
    </select>
  </div>

  <div *ngIf="clientAccepted === false">

    <div class="flex justify-center text-gray-600 dark:text-gray-300 mt-3">Rejection reason:</div>
    <div class="flex justify-center text-gray-400 dark:text-neutral-100">
          <textarea [(ngModel)]="rejectionReason" type="text" id="commentID" class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:border-blue-500 dark:bg-gray-600"></textarea>
    </div>

    <div class="flex justify-center text-gray-600 dark:text-gray-300 mt-3">Return process to:</div>
    <div class="flex justify-center text-gray-400 mb-3 dark:text-neutral-100">
      <select [(ngModel)]="rejectedReturnTo" type="text" class="dark:hover:border-[#56BDED] hover:border-[#386097]ng  rounded border
    block appearance-none w-full bg-white border-gray-400  text-gray-400 mb-3 dark:text-neutral-100 py-2 px-4 pr-8
    leading-tight focus:outline-none focus:bg-white  dark:focus:border-[#56BDED] focus:border-[#386097]
    dark:bg-gray-600 dark:hover:bg-gray-600 dark:focus:bg-gray-600">
              <option value="cdcm">CDCM</option>
              <option value="document">Document editing</option>
      </select>
    </div>
  </div>

  <button (click)="submitClientResponse();"
          class="hover:cursor-pointer my-5 middle none center mr-4 rounded-lg bg-[#386097]
    py-3 px-6 font-sans text-xs font-bold uppercase text-white
    shadow-md shadow-blue-500/20 transition-all hover:shadow-lg
    hover:shadow-blue-500/40 focus:opacity-[0.85]
    focus:shadow-none active:opacity-[0.85] active:shadow-none
    disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none dark:bg-[#56BDED]"
          data-ripple-light="true">Submit client response
  </button>
</div>

<div *ngIf="deal.flowStatus.ID > 8" class="p-4 bg-green-100 border border-green-400 rounded text-green-700 font-semibold">
  âœ… The client has accepted the {{ documentType }}.
</div>
