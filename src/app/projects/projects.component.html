<div class="container mx-auto p-6 pt-20 dark:bg-gray-600 h-full">

  <button (click)="createProject();"
          class="my-5 middle none center mr-4 rounded-lg bg-[#386097]
    py-3 px-6 font-sans text-xs font-bold uppercase text-white
    shadow-md shadow-blue-500/20 transition-all hover:shadow-lg
    hover:shadow-blue-500/40 focus:opacity-[0.85]
    focus:shadow-none active:opacity-[0.85] active:shadow-none
    disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none dark:bg-[#56BDED]"
          data-ripple-light="true">Create new project
  </button>


  <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
    <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
      <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
      <tr>
        <th scope="col" class="px-6 py-3">
          ID
        </th>
        <th scope="col" class="px-6 py-3">
          Date
        </th>
        <th scope="col" class="px-6 py-3">
          Service
        </th>
        <th scope="col" class="px-6 py-3">
          Subservice
        </th>
        <th scope="col" class="px-6 py-3">
          Client
        </th>
        <th scope="col" class="px-6 py-3">
          Legal Entity
        </th>
        <th scope="col" class="px-6 py-3">
          BD Consultant
        </th>
        <th scope="col" class="px-6 py-3">
          Status
        </th>
      </tr>
      </thead>
      <tbody>
        @for (project of projectService.projectsList; track project) {
          <tr
            class="hover:cursor-pointer odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 dark:hover:bg-gray-700 hover:bg-gray-100" (click)="onProjectClick(project)">
            <th scope="row" class="px-6 py-4 text-[#386097] font-bold whitespace-nowrap dark:text-[#56BDED]">
              {{ project.ID }}
            </th>
            <td class="px-6 py-4">
              {{ project.createdDate | date:'dd.MM.yyyy'}}
            </td>
            <td class="px-6 py-4">
              {{ project.service.name }}
            </td>
            <td class="px-6 py-4">
              {{ project.subservice.name }}
            </td>
            <td class="px-6 py-4">
              {{ project.client.name }}
            </td>
            <td class="px-6 py-4">
              {{ project.legalEntity.shortName }}
            </td>
            <td class="px-6 py-4">
              @if(project.bdUser.picUrl){
                <img class="w-6 h-6 rounded-full inline-block" [src]='project.bdUser.picUrl' alt="Rounded avatar" style="object-fit: cover;">
              }

              {{ project.bdUser.fullName }}
            </td>
            <td class="px-6 py-4">
              {{ project.statusName }}
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>
